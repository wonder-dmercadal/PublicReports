<!-- Mermaid Support -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    mermaid.initialize({ 
      startOnLoad: true,
      theme: 'default',
      themeVariables: {
        primaryColor: '#1e3a8a',
        primaryTextColor: '#fff',
        primaryBorderColor: '#1e40af',
        lineColor: '#64748b',
        secondaryColor: '#3b82f6',
        tertiaryColor: '#e0f2fe'
      }
    });
    
    // Convert ```mermaid blocks to div class="mermaid"
    const mermaidCodeBlocks = document.querySelectorAll('pre > code.language-mermaid');
    mermaidCodeBlocks.forEach((block) => {
      const mermaidDiv = document.createElement('div');
      mermaidDiv.className = 'mermaid';
      mermaidDiv.textContent = block.textContent;
      block.parentElement.replaceWith(mermaidDiv);
    });
    
    mermaid.init();
  });
</script>
